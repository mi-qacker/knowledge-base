<div class="container mx-auto h-full py-4 lg:w-full">
  <ng-container
    *ngIf="{
      roadMap: roadMap$ | async,
      isOwnerRoadMap: isOwnerRoadMap$ | async
    } as templateData">
    <div
      class="flex h-full flex-col"
      *ngIf="templateData.roadMap && templateData.isOwnerRoadMap !== null">
      <app-road-map
        [roadMap]="templateData.roadMap"
        [isOwnerRoadMap]="templateData.isOwnerRoadMap" />

      <mat-drawer-container
        *ngIf="roadMapNodes$ | async as roadMapNodes"
        class="flex-grow rounded-lg"
        autosize>
        <mat-drawer mode="side" opened class="p-4">
          <app-road-map-tree
            [roadMapNodes]="roadMapNodes"
            [isOwnerRoadMap]="templateData.isOwnerRoadMap" />
        </mat-drawer>
        <mat-drawer-content class="p-4">
          <app-road-map-node
            (checkedEvent)="checkNode($event)"
            [roadMapNode]="selectedRoadMapNode$ | async"
            [isOwnerRoadMap]="templateData.isOwnerRoadMap" />
        </mat-drawer-content>
      </mat-drawer-container>
    </div>
  </ng-container>
</div>
